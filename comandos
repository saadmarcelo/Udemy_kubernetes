kubectl get node ( lista os nodes do cluster)
kubectl get node -owide 
kubectl get pod ( lista os pods do namespace)
kubectl get pod -A ( lista os pods de todos os namespaces)
kubectl get pod -Aowide ( lista mais informações dos pods)
kubectl get pod -v9 ( lista os pods com o modo verbose)
kubectl get pod -n kube-system etcd-master -oyaml (exporta o yaml com o describe do pod etcd-master)


necessario instalar o etcdctl no master
apt install etcdctl-client

entrar na pasta
/etc/kubernetes/pki/etcd/ (local onde estarao as chaves e certificados do cluster)



etcdctl member list --cacert $(pwd)/ca.crt --cert $(pwd)/server.crt --key server.key--write-out table
comando para listar os membros do cluster

scritp etcdctl.env

cat <<EOF > etcdctl.env
export ETCDCTL_CACERT=/etc/kubernetes/pki/etcd/ca.crt
export ETCDCTL_CERT=/etc/kubernetes/pki/etcd/server.crt
export ETCDCTL_KEY=/etc/kubernetes/pki/etcd/server.key
export ETCDCTL_API=3
EOF

backup etcd ( normalmente fica na pasta /var/lib/etcd/)
etcdctl snapshot save backup.db (faz o backup no arquivo backup.db)
etcdctl snapshot restore backup.db (restaura o backup)

#modulo_02 YAML

kubectl apply -f modulo_02/pod.yaml
kubectl api-resources ( lista todos recursos do cluester)

kubectl get pods nginx -o yaml (para gerar o arquivo yaml do pod q ja esta rodando)

install krew

https://krew.sigs.k8s.io/docs/user-guide/quickstart/

kubectl krew install neat (plugin neat para )

kubectl get pods nginx -o yaml | kubectl neat ( cria um arquivo yaml com as informacoes basicas para rodar o pod)

##### modulo 03 ######

kubectl get namespaces ( mostra as namespaces atualmente no cluster)

kubectl get pod --namespace kube-flannel ( lista os pods no namespace kube-flannel)

kubectl create namespace devops (cria o namespace devops)

kubectl delete namespace devops ( deleta o namespace devops)

kubectl create namespace devops --dry-run -oyaml | kubectl neat > /tmp/namespace.yaml( roda o comando de criar o namespace mas gera o arquivo yaml e manda como entrada no pugin do neat para limpar os dados do yaml e salva no arquivo /tmp/namespace.yaml)

##### modulo 04 ########





